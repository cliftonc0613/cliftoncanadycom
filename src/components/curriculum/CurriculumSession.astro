---
// CurriculumSession.astro
// Individual session row with badge + content
// Leaf component - no child components

interface Props {
  week: number;
  session: number;
  title: string;
  description: string;
  badge: "hands-on" | "project-based" | "career-coaching";
}

const { week, session, title, description, badge } = Astro.props;

// Badge styling configuration
const badgeConfig = {
  "hands-on": {
    bg: "bg-green-100",
    text: "text-green-800",
    label: "Hands-on"
  },
  "project-based": {
    bg: "bg-orange-100",
    text: "text-orange-800",
    label: "Project-based"
  },
  "career-coaching": {
    bg: "bg-blue-100",
    text: "text-blue-800",
    label: "Career coaching"
  }
};

const badgeStyle = badgeConfig[badge];
---

<div class="session-row p-4 hover:bg-gray-50 transition-colors border-l-4 border-gray-200 rounded-sm">
  <div class="flex items-start justify-between gap-4">
    <div class="flex-grow">
      <h4 class="font-semibold text-gray-900 mb-2">
        Session {week}.{session}: {title}
      </h4>
      <p class="text-sm text-gray-600 leading-relaxed">
        {description}
      </p>
    </div>
    <div class="flex-shrink-0">
      <span class={`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${badgeStyle.bg} ${badgeStyle.text} whitespace-nowrap`}>
        {badgeStyle.label}
      </span>
    </div>
  </div>
</div>

<style>
  .session-row {
    transition: background-color 0.2s ease;
  }

  .session-row:hover {
    border-left-color: var(--primary, #1E40AF);
  }
</style>
